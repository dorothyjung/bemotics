<!DOCTYPE HTML>
<html>
  <head>
  <% include ../partials/header.ejs %>
   
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <title></title>
  </head>
  <body>
    <% include ../partials/nav.ejs %>  

  <div id="masthead">  
  <div class="container">
      <div class="row">
        <div class="col-md-7">
          <h1><a href="/projects">Projects</a> > <a href="/participants"> Project 1</a> > Individual Result</h1>
            <p class="lead">Participant: Alice Ma</p>
        </div>
      </div> 
  </div><!--/container-->
</div><!--/masthead-->

<script type="text/javascript">
  // Load the Visualization API and the piechart package.
  google.load('visualization', '1.0', {'packages':['corechart']});

  // Set a callback to run when the Google Visualization API is loaded.
  google.setOnLoadCallback(drawChart);

  // Callback that creates and populates a data table,
  // instantiates the pie chart, passes in the data and
  // draws it.
  function drawChart() {

    // Create the data table.
    var data = google.visualization.arrayToDataTable(
      [['seconds', 'Engagement', 'Frustration', 'Meditation', 'Excitement'], [1.0, 0.641123, 0.0, 0.316708, 0.00186492], [2.0, 0.641123, 0.0, 0.316708, 0.00186492], [3.0, 0.641123, 0.0, 0.316708, 0.00186492], [4.0, 0.720896, 0.0, 0.301749, 0.00577296], [5.0, 0.720896, 0.0, 0.301749, 0.00577296], [6.0, 0.720896, 0.0, 0.301749, 0.00577296], [7.0, 0.720896, 0.0, 0.301749, 0.00577296], [8.0, 0.720896, 0.0, 0.301749, 0.00577296], [9.0, 0.747991, 0.0, 0.296636, 0.0114218], [10.0, 0.747991, 0.0, 0.296636, 0.0114218], [11.0, 0.747991, 0.0, 0.296636, 0.0114218], [12.0, 0.747991, 0.0, 0.296636, 0.0114218], [13.0, 0.75829, 0.0, 0.299419, 0.0180803], [14.0, 0.75829, 0.0, 0.299419, 0.0180803], [15.0, 0.767428, 0.0, 0.302485, 0.0411644], [16.0, 0.767428, 0.0, 0.302485, 0.0411644], [17.0, 0.767428, 0.0, 0.302485, 0.0411644], [18.0, 0.768346, 0.0, 0.305284, 0.0733166]]
    );

    // Set chart options
    var options = {
      'title':'Brainwave Readings',
      legend:{
        position: 'bottom' },
      animation:{
        duration: 18000,
        easing: 'linear',

        },
    };

    var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
    chart.draw(data, options);

  }
</script>

    <!--/Graph!-->
    <script type="text/javascript" src="https://www.google.com/jsapi?autoload={
            'modules':[{
              'name':'visualization',
              'version':'1',
              'packages':['corechart']
            }]
          }"></script>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script type="text/javascript">
            // Load the Visualization API and the piechart package.
            //google.load('visualization', '1', {'packages':['corechart']});

            // Set a callback to run when the Google Visualization API is loaded.
            google.setOnLoadCallback(drawChart);

            function drawChart() {
                var json = $.ajax({
                    url: '9.json', // make this url point to the data file
                    dataType: 'json',
                    async: false,
                    type: 'GET'
                }).responseText;
                //console.log(json);

                var row, time, data = new google.visualization.DataTable();
                data.addColumn('number', 'Time');
                data.addColumn('number', 'Engagement');
                var total_value = 0;
                for (var i=1;i<json.length;i++) {
                    row = json[i];
                    //value = row[0].split('/');
                    data.addRow([
                        i, 
                        parseFloat(row)
                    ]);
                    total_value+=parseFloat(row);
}  
                console.log(data)
                // Create our data table out of JSON data loaded from server.
                //var data = new google.visualization.DataTable(json);
                //console.log(data);
                total_value=total_value/json.length;
                var options = {
                    title: 'Headset Data',
                    is3D: 'true',
                    width: 1200,
                    height: 600
                };
                //Instantiate and draw our chart, passing in some options.
                //do not forget to check ur div ID
                var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));
                chart.draw(data, options);

                //setInterval(drawChart, 500 );
            }
        </script>  


        <div id="chart_div"></div>
        <div id="curve_chart" style="width: 1200px; height: 600px"></div>

  <!-- Footer -->
    <footer>
      <% include ../partials/footer.ejs %>
    </footer>

    
  </body>

  
</html>